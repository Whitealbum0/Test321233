{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Sitest-Web\\\\Need-sites-main\\\\frontend\\\\src\\\\contexts\\\\DeviceContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeviceContext = /*#__PURE__*/createContext();\nexport const DeviceProvider = ({\n  children\n}) => {\n  _s();\n  const [isMobile, setIsMobile] = useState(false);\n  const [isManualMode, setIsManualMode] = useState(false);\n\n  // Определение мобильного устройства\n  const detectMobile = () => {\n    const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    return /android/i.test(userAgent) || /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream || window.innerWidth <= 768;\n  };\n  useEffect(() => {\n    // Проверяем сохраненные настройки\n    const savedMode = localStorage.getItem('device_mode');\n    const savedManual = localStorage.getItem('manual_mode') === 'true';\n    if (savedManual && savedMode) {\n      setIsManualMode(true);\n      setIsMobile(savedMode === 'mobile');\n    } else {\n      // Автоматическое определение\n      setIsMobile(detectMobile());\n      setIsManualMode(false);\n    }\n\n    // Слушаем изменения размера окна (только для автоматического режима)\n    const handleResize = () => {\n      if (!isManualMode) {\n        setIsMobile(window.innerWidth <= 768);\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [isManualMode]);\n  const switchToMobile = () => {\n    setIsMobile(true);\n    setIsManualMode(true);\n    localStorage.setItem('device_mode', 'mobile');\n    localStorage.setItem('manual_mode', 'true');\n  };\n  const switchToDesktop = () => {\n    setIsMobile(false);\n    setIsManualMode(true);\n    localStorage.setItem('device_mode', 'desktop');\n    localStorage.setItem('manual_mode', 'true');\n  };\n  const switchToAuto = () => {\n    setIsManualMode(false);\n    setIsMobile(detectMobile());\n    localStorage.removeItem('device_mode');\n    localStorage.removeItem('manual_mode');\n  };\n  return /*#__PURE__*/_jsxDEV(DeviceContext.Provider, {\n    value: {\n      isMobile,\n      isManualMode,\n      switchToMobile,\n      switchToDesktop,\n      switchToAuto\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(DeviceProvider, \"jJSptjmqRw+GB9RD9fgjOy39fYk=\");\n_c = DeviceProvider;\nexport const useDevice = () => {\n  _s2();\n  const context = useContext(DeviceContext);\n  if (!context) {\n    throw new Error('useDevice must be used within a DeviceProvider');\n  }\n  return context;\n};\n_s2(useDevice, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"DeviceProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","DeviceContext","DeviceProvider","children","_s","isMobile","setIsMobile","isManualMode","setIsManualMode","detectMobile","userAgent","navigator","vendor","window","opera","test","MSStream","innerWidth","savedMode","localStorage","getItem","savedManual","handleResize","addEventListener","removeEventListener","switchToMobile","setItem","switchToDesktop","switchToAuto","removeItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useDevice","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/Sitest-Web/Need-sites-main/frontend/src/contexts/DeviceContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst DeviceContext = createContext();\n\nexport const DeviceProvider = ({ children }) => {\n  const [isMobile, setIsMobile] = useState(false);\n  const [isManualMode, setIsManualMode] = useState(false);\n\n  // Определение мобильного устройства\n  const detectMobile = () => {\n    const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    return (\n      /android/i.test(userAgent) ||\n      (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) ||\n      window.innerWidth <= 768\n    );\n  };\n\n  useEffect(() => {\n    // Проверяем сохраненные настройки\n    const savedMode = localStorage.getItem('device_mode');\n    const savedManual = localStorage.getItem('manual_mode') === 'true';\n\n    if (savedManual && savedMode) {\n      setIsManualMode(true);\n      setIsMobile(savedMode === 'mobile');\n    } else {\n      // Автоматическое определение\n      setIsMobile(detectMobile());\n      setIsManualMode(false);\n    }\n\n    // Слушаем изменения размера окна (только для автоматического режима)\n    const handleResize = () => {\n      if (!isManualMode) {\n        setIsMobile(window.innerWidth <= 768);\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [isManualMode]);\n\n  const switchToMobile = () => {\n    setIsMobile(true);\n    setIsManualMode(true);\n    localStorage.setItem('device_mode', 'mobile');\n    localStorage.setItem('manual_mode', 'true');\n  };\n\n  const switchToDesktop = () => {\n    setIsMobile(false);\n    setIsManualMode(true);\n    localStorage.setItem('device_mode', 'desktop');\n    localStorage.setItem('manual_mode', 'true');\n  };\n\n  const switchToAuto = () => {\n    setIsManualMode(false);\n    setIsMobile(detectMobile());\n    localStorage.removeItem('device_mode');\n    localStorage.removeItem('manual_mode');\n  };\n\n  return (\n    <DeviceContext.Provider value={{\n      isMobile,\n      isManualMode,\n      switchToMobile,\n      switchToDesktop,\n      switchToAuto\n    }}>\n      {children}\n    </DeviceContext.Provider>\n  );\n};\n\nexport const useDevice = () => {\n  const context = useContext(DeviceContext);\n  if (!context) {\n    throw new Error('useDevice must be used within a DeviceProvider');\n  }\n  return context;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}