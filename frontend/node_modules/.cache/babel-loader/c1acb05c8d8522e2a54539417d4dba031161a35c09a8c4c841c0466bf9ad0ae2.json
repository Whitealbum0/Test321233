{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Need-sites-main\\\\frontend\\\\src\\\\components\\\\Common\\\\LazyImage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { useInView } from 'react-intersection-observer';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LazyImage = ({\n  src,\n  alt,\n  className = '',\n  placeholder = null,\n  fallback = null,\n  onLoad = null,\n  onError = null\n}) => {\n  _s();\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n  const [imgSrc, setImgSrc] = useState(null);\n  const {\n    ref,\n    inView\n  } = useInView({\n    triggerOnce: true,\n    threshold: 0.1,\n    rootMargin: '50px'\n  });\n  React.useEffect(() => {\n    if (inView && src && !imgSrc) {\n      setImgSrc(src);\n    }\n  }, [inView, src, imgSrc]);\n  const handleLoad = () => {\n    setLoaded(true);\n    if (onLoad) onLoad();\n  };\n  const handleError = () => {\n    setError(true);\n    if (onError) onError();\n  };\n\n  // Placeholder пока изображение загружается\n  const renderPlaceholder = () => {\n    if (placeholder) {\n      return placeholder;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center ${className}`,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"w-8 h-8 text-gray-400\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Fallback при ошибке загрузки\n  const renderFallback = () => {\n    if (fallback) {\n      return fallback;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center ${className}`,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"w-8 h-8 text-red-400\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    className: \"relative\",\n    children: [!imgSrc && renderPlaceholder(), imgSrc && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [!loaded && !error && renderPlaceholder(), error && renderFallback(), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgSrc,\n        alt: alt,\n        className: `${className} ${loaded ? 'opacity-100' : 'opacity-0'} transition-opacity duration-300`,\n        onLoad: handleLoad,\n        onError: handleError,\n        loading: \"lazy\",\n        style: {\n          display: loaded ? 'block' : 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(LazyImage, \"9oGsPU7LkAeZ7zHkfSHRbYvOijs=\", false, function () {\n  return [useInView];\n});\n_c = LazyImage;\nexport default LazyImage;\nvar _c;\n$RefreshReg$(_c, \"LazyImage\");","map":{"version":3,"names":["React","useState","useRef","useInView","jsxDEV","_jsxDEV","Fragment","_Fragment","LazyImage","src","alt","className","placeholder","fallback","onLoad","onError","_s","loaded","setLoaded","error","setError","imgSrc","setImgSrc","ref","inView","triggerOnce","threshold","rootMargin","useEffect","handleLoad","handleError","renderPlaceholder","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","renderFallback","loading","style","display","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/Need-sites-main/frontend/src/components/Common/LazyImage.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { useInView } from 'react-intersection-observer';\n\nconst LazyImage = ({ \n  src, \n  alt, \n  className = '', \n  placeholder = null,\n  fallback = null,\n  onLoad = null,\n  onError = null\n}) => {\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n  const [imgSrc, setImgSrc] = useState(null);\n  \n  const { ref, inView } = useInView({\n    triggerOnce: true,\n    threshold: 0.1,\n    rootMargin: '50px'\n  });\n\n  React.useEffect(() => {\n    if (inView && src && !imgSrc) {\n      setImgSrc(src);\n    }\n  }, [inView, src, imgSrc]);\n\n  const handleLoad = () => {\n    setLoaded(true);\n    if (onLoad) onLoad();\n  };\n\n  const handleError = () => {\n    setError(true);\n    if (onError) onError();\n  };\n\n  // Placeholder пока изображение загружается\n  const renderPlaceholder = () => {\n    if (placeholder) {\n      return placeholder;\n    }\n    \n    return (\n      <div className={`bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center ${className}`}>\n        <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n        </svg>\n      </div>\n    );\n  };\n\n  // Fallback при ошибке загрузки\n  const renderFallback = () => {\n    if (fallback) {\n      return fallback;\n    }\n    \n    return (\n      <div className={`bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center ${className}`}>\n        <svg className=\"w-8 h-8 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      </div>\n    );\n  };\n\n  return (\n    <div ref={ref} className=\"relative\">\n      {!imgSrc && renderPlaceholder()}\n      \n      {imgSrc && (\n        <>\n          {!loaded && !error && renderPlaceholder()}\n          {error && renderFallback()}\n          \n          <img\n            src={imgSrc}\n            alt={alt}\n            className={`${className} ${loaded ? 'opacity-100' : 'opacity-0'} transition-opacity duration-300`}\n            onLoad={handleLoad}\n            onError={handleError}\n            loading=\"lazy\"\n            style={{\n              display: loaded ? 'block' : 'none'\n            }}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default LazyImage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}